RewriteEngine On

# photos 
RewriteRule ^photos$ index.php?resource=photo&method=listing [L,QSA]
RewriteRule ^photos/([0-9]+)$ index.php?resource=photo&method=view&id=$1 [L,QSA]
RewriteRule ^photo/create$ index.php?resource=photo&method=create [L,QSA]

# polls
RewriteRule ^polls/([0-9]+)$ index.php?resource=poll&method=view&id=$1 [L,QSA]
RewriteRule ^pollvote/create$ index.php?resource=pollvote&method=create [L,QSA]

# journals
RewriteRule ^journals$ index.php?resource=journal&method=listing [L,QSA]
RewriteRule ^journals/([0-9]+)$ index.php?resource=journal&method=view&id=$1 [L,QSA]

# session
RewriteRule ^session/create$ index.php?resource=session&method=create [L]
RewriteRule ^session/delete$ index.php?resource=session&method=delete [L]
RewriteRule ^login$ index.php?resource=session&method=view [L]

# favourites
RewriteRule ^favourite/create$ index.php?resource=favourite&method=create [L]

# comments
RewriteRule ^comment/create$ index.php?resource=comment&method=create [L]

# news
RewriteRule ^news$ index.php?resource=news&method=listing [L,QSA]

# users
RewriteRule ^users/online$ index.php?resource=user&method=listing [L,QSA]
RewriteRule ^users/([a-z0-9-]+)$ index.php?resource=user&method=view&id=$1 [L,QSA]

# chat
RewriteRule ^chat/messages$ index.php?resource=chatmessage&method=listing [L,QSA]
RewriteRule ^chat/message/create$ index.php?resource=chatmessage&method=create&channelid=$1 [L,QSA]

# tunnel
RewriteRule ^tunnel/create$ index.php?resource=tunnel&method=create [L,QSA]
RewriteRule ^tunnel/update/([0-9]+)$ index.php?resource=tunnel&method=update&id=$1 [L,QSA]

# notifications
RewriteRule ^notifications$ index.php?resource=notification&method=list [L,QSA]

# global

RewriteRule ^global.xsl$ xslt/global.php [L,QSA]
RewriteRule ^global.js$ js/global.php [L,QSA]
RewriteRule ^global.css$ css/global.php [L,QSA]

php_flag display_errors on
