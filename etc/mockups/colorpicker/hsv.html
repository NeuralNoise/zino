<html>
<head><title>Colors</title></head>
<body onload="createRainbow()">
<script type="text/javascript">
function createRainbow() {
	var table = document.getElementById( 'table' );
	table.border="0";
	table.cellpadding="0";
	table.cellspacing="0";
	table.style.borderCollapse = "collapse";
	table.style.margin = "auto";
    table.style.cursor = "pointer";
	var tr = document.createElement( 'tr' );
	var s,v;
	s=v=1;
	for(var h=0;h<360;++h ) {
		hsv2rgb( h, s, v, tr, "preview" );
	}
	table.appendChild( tr );
}

/*
The following function maps a color that belongs to the HSV color space to the according one in the RGB color space.
HSV stands for Hue,Saturation,Value.
RGB stands for Red,Green,Blue.
The variables Hd,f,p,q,t are necessary for the calculation of the equivalent RGB color and the equations were taken
from http://en.wikipedia.org/wiki/HSV_color_space#From_HSV_to_RGB.

The domain of:
	h is [0,360)
	s,v,r,g,b is [0,1]
	
Notice the domain of r,g,b values!In computer technology the domain of r,g,b is [0,255].
Let y be a real number in [0,1] and x be an integer in [0,255].
The following ratio appears:

	 1     255
	--- = -----
	 y      x
	 
<=>  x = 255*y
Since x belongs to Z, x = parseInt( 255*y );
We don't care if y=0,coz that means that x would be 0
*/
	
function hsv2rgb( h, s, v, tr, preview ) {
	var Hd = Math.floor( h/60 )%6;
	var f = h/60 - Hd;
	var p = v*(1-s);
	var q = v*(1-f*s);
	var t = v*(1-(1-f)*s);
	var r,g,b;
	switch( Hd ) {
		case 0:
			r = v;
			g = t;
			b = p;
			break;
		case 1:
			r = q;
			g = v;
			b = p;
			break;
		case 2:
			r = p;
			g = v;
			b = t;
			break;
		case 3:
			r = p;
			g = q;
			b = v;
			break;
		case 4:
			r = t;
			g = p;
			b = v;
			break;
		case 5:
			r = v;
			g = p;
			b = q;
			break;
		default:
			alert( "Something's wrong" );
	}
	r=parseInt(r*255);
	g=parseInt(g*255);
	b=parseInt(b*255);
	tr.appendChild( createColor( r,g,b,preview) );
}

function Preview( r,g,b,id ) {
	var ted = document.getElementById( id );
	ted.style.backgroundColor = "rgb(" + r + "," + g + "," + b + ")";
}

function createColor( red,green,blue,id ) {
	var td = document.createElement( 'td' );
	td.style.backgroundColor = "rgb(" + red + "," + green + "," + blue + ")";
	td.style.height="50px";
	td.style.width="4px";
	td.onmouseover= (function (r, g, b, preview) {
							return function () {
								Preview( r,g,b,preview );
							}
						})(red,green,blue,id);
	td.onmouseout = function () {
				document.body.style.cursor = "default";
			};
	return td;
}
</script>
<table id="table">
</table><br />
<div id = "preview"	style="width:240px;height:30px;margin: 6px auto 0 auto;"></div>
</body>
</html>
	
			
